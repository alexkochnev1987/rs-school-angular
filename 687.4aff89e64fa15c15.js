"use strict";(self.webpackChunkrs_school=self.webpackChunkrs_school||[]).push([[687],{3687:(Q,p,r)=>{r.r(p),r.d(p,{MainModule:()=>J});var m=r(6895),l=r(2965),t=r(4650),v=r(7579),u=r(2722),Z=r(9300),d=r(3900),M=r(8384),a=r(322),S=r(4734),x=r(9653),c=r(4854),i=r(3546),h=r(2310);const w=function(){return["example-card"]},y=function(e,s){return[e,s]};let T=(()=>{class e{constructor(){this.RouterStateValue=c.A,this.getImageURL=c.QW,this.getColor=c.Lq}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-item"]],inputs:{item:"item"},decls:32,vars:15,consts:[["appColoringBorder","",3,"color"],[1,"h-100"],[1,"h-50","align-items-center","justify-content-center"],["mat-card-image","",1,"image","h-100",3,"src","alt"],[1,"d-flex","justify-content-around","w-100","mt-auto"],[1,"d-flex","align-items-center"],["width","20","height","13","viewBox","0 0 20 13","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10 0C5.45536 0 1.58929 2.68609 0 6.5C1.58929 10.3139 5.45536 13 10 13C14.5446 13 18.4107 10.3139 20 6.5C18.4107 2.68609 14.5446 0 10 0ZM10 10.8348C7.5 10.8348 5.45536 8.88477 5.45536 6.5C5.45536 4.11523 7.5 2.16523 10 2.16523C12.5 2.16523 14.5446 4.11523 14.5446 6.5C14.5446 8.88477 12.5 10.8348 10 10.8348ZM10 3.9C8.5 3.9 7.27232 5.07086 7.27232 6.5C7.27232 7.92914 8.5 9.1 10 9.1C11.5 9.1 12.7277 7.92914 12.7277 6.5C12.7277 5.07086 11.5 3.9 10 3.9Z","fill","black"],["width","15","height","13","viewBox","0 0 15 13","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9615 0H10.9255C9.49399 0 8.22836 0.6825 7.5 1.69C6.77163 0.6825 5.50601 0 4.07452 0H4.03846C1.80649 0.0195 0 1.65425 0 3.6725C0 4.875 0.584135 6.58125 1.72356 7.98525C3.89423 10.66 7.5 13 7.5 13C7.5 13 11.1058 10.66 13.2764 7.98525C14.4159 6.58125 15 4.875 15 3.6725C15 1.65425 13.1935 0.0195 10.9615 0Z","fill","black"],["d","M0.144196 0.769779L1.04542 1.5683C0.392934 2.21671 0 3.07912 0 4.04693C0 6.58624 2.54867 8.62408 6.40952 11.7671L7.5018 12.6327L8.59048 11.7639C9.33309 11.1602 10.0288 10.5948 10.6633 10.0614L13.987 13L14.8522 12.2334L1.01658 0L0.144196 0.769779ZM15 4.04373C15 1.97076 13.2012 0.367322 10.876 0.367322C9.56381 0.367322 8.32733 0.900737 7.5018 1.76953C6.67628 0.900737 5.4398 0.367322 4.12761 0.367322C3.8248 0.367322 3.5328 0.396069 3.25162 0.447174L12.3973 8.53145C14.0375 6.97592 15 5.60565 15 4.04373Z","fill","black"],["width","13","height","13","viewBox","0 0 13 13","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 4.16876V11.75C0 12.4406 0.559375 13 1.25 13H8.83125C9.52188 13 10.0813 12.4406 10.0813 11.75V4.16876C10.0813 3.47814 9.52188 2.91876 8.83125 2.91876H1.25C0.559375 2.91876 0 3.47814 0 4.16876Z","fill","black"],["d","M2.91797 1.25V2.1375C2.91797 2.20625 2.97422 2.2625 3.04297 2.2625H9.23672C10.0617 2.2625 10.7367 2.9375 10.7367 3.7625V9.95625C10.7367 10.025 10.793 10.0813 10.8617 10.0813H11.7492C12.4398 10.0813 12.9992 9.52188 12.9992 8.83125V1.25C12.9992 0.559375 12.4398 0 11.7492 0H4.16797C3.47734 0 2.91797 0.559375 2.91797 1.25Z","fill","black"],[1,"h-25","mt-3","text-center","cut-text"],[1,"d-flex","justify-content-center","mt-auto"],[3,"routerLink"],[1,"btn","btn-primary","px-5"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t.O4$(),t.TgZ(6,"svg",6),t._UZ(7,"path",7),t.qZA(),t.kcU(),t.TgZ(8,"span"),t._uU(9),t.qZA()(),t.TgZ(10,"div",5),t.O4$(),t.TgZ(11,"svg",8),t._UZ(12,"path",9),t.qZA(),t.kcU(),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"div",5),t.O4$(),t.TgZ(16,"svg",8),t._UZ(17,"path",10),t.qZA(),t.kcU(),t.TgZ(18,"span"),t._uU(19),t.qZA()(),t.TgZ(20,"div",5),t.O4$(),t.TgZ(21,"svg",11),t._UZ(22,"path",12)(23,"path",13),t.qZA(),t.kcU(),t.TgZ(24,"span"),t._uU(25),t.qZA()()(),t.TgZ(26,"h2",14),t._uU(27),t.qZA(),t.TgZ(28,"div",15)(29,"a",16)(30,"button",17),t._uU(31,"more..."),t.qZA()()()()()),2&o&&(t.Tol(t.DdM(11,w)),t.Q6J("color",n.getColor(n.item.snippet.publishedAt)),t.xp6(3),t.Q6J("src",n.getImageURL(n.item),t.LSH)("alt",n.item.snippet.title),t.xp6(6),t.Oqu(n.item.statistics.viewCount),t.xp6(5),t.Oqu(n.item.statistics.likeCount),t.xp6(5),t.Oqu(n.item.statistics.dislikeCount),t.xp6(6),t.Oqu(n.item.statistics.commentCount),t.xp6(2),t.hij(" ",n.item.snippet.title," "),t.xp6(2),t.Q6J("routerLink",t.WLB(12,y,n.RouterStateValue.main,n.item.id)))},dependencies:[i.a8,i.G2,l.yS,h.E],styles:[".example-card[_ngcontent-%COMP%]{box-sizing:border-box;width:263px;border-bottom:10px solid;height:327px;background:#E5E5E5}.footer[_ngcontent-%COMP%]{bottom:0}.cut-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),e})(),A=(()=>{class e{constructor(){this.getColor=c.Lq}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-custom-card"]],inputs:{customCard:"customCard"},decls:11,vars:6,consts:[["appColoringBorder","",1,"example-card",3,"color"],[1,"d-flex","flex-column","justify-content-start","h-100"],[1,"h-50"],["mat-card-image","",1,"image",3,"src","alt"],["controls",""],["type","video/mp4",3,"src"],[1,"mt-3","text-center"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"video",4),t._UZ(5,"source",5),t.qZA(),t.TgZ(6,"mat-card-title")(7,"div",6),t._uU(8),t.qZA()(),t.TgZ(9,"mat-card-content"),t._uU(10),t.qZA()()()),2&o&&(t.Q6J("color",n.getColor(n.customCard.date)),t.xp6(3),t.Q6J("src",n.customCard.img,t.LSH)("alt",n.customCard.title),t.xp6(2),t.Q6J("src",n.customCard.link,t.LSH),t.xp6(3),t.hij(" ",n.customCard.title," "),t.xp6(2),t.Oqu(n.customCard.description))},dependencies:[i.a8,i.dn,i.n5,i.G2,h.E],styles:[".example-card[_ngcontent-%COMP%]{box-sizing:border-box;width:263px;border-bottom:10px solid;height:327px;background:#E5E5E5}.footer[_ngcontent-%COMP%]{bottom:0}.cut-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),e})();var C=r(3780);let b=(()=>{class e{transform(o,n){if(!o||!n)return o;let f=[...o].sort(n.key===C.b.date?this.sortDate:this.sortViewCount);return n.order===C.A.asc?f:f.reverse()}sortDate(o,n){return new Date(o.snippet.publishedAt).getTime()-new Date(n.snippet.publishedAt).getTime()}sortViewCount(o,n){return Number(o.statistics.viewCount)-Number(n.statistics.viewCount)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=t.Yjl({name:"sortItem",type:e,pure:!0}),e})();function U(e,s){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"app-search-item",3),t.qZA()),2&e){const o=s.$implicit;t.xp6(1),t.Q6J("item",o)}}function O(e,s){1&e&&t._UZ(0,"app-custom-card",4),2&e&&t.Q6J("customCard",s.$implicit)}let L=(()=>{class e{constructor(o,n){this.searchItemService=o,this.store=n,this.unsubscribe$=new v.x,this.items$=this.store.select(a.gR),this.searchStream$=this.store.select(a.QB),this.sortStream$=this.store.select(a.ji),this.store$=this.store.select(a.Kv)}ngOnInit(){this.sortStream$.pipe((0,u.R)(this.unsubscribe$)).subscribe(o=>this.sortEventStreamed=o),this.searchStream$.pipe((0,Z.h)(o=>o.length>2),(0,d.w)(o=>this.searchItemService.getSearchItems(o)),(0,d.w)(o=>this.searchItemService.getVideoItems(o)),(0,u.R)(this.unsubscribe$)).subscribe(o=>{this.store.dispatch((0,M.Xo)({items:o}))})}ngOnDestroy(){this.unsubscribe$.next(1),this.unsubscribe$.complete()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(S.b),t.Y36(x.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-search-results"]],decls:6,vars:9,consts:[[1,"d-flex","flex-wrap","wrapper"],[4,"ngFor","ngForOf"],[3,"customCard",4,"ngFor","ngForOf"],[3,"item"],[3,"customCard"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0),t.YNc(1,U,2,1,"div",1),t.ALo(2,"sortItem"),t.ALo(3,"async"),t.YNc(4,O,1,1,"app-custom-card",2),t.ALo(5,"async"),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngForOf",t.xi3(2,2,t.lcZ(3,5,n.items$),n.sortEventStreamed)),t.xp6(3),t.Q6J("ngForOf",t.lcZ(5,7,n.store$)))},dependencies:[m.sg,T,A,b,m.Ov],styles:[".wrapper[_ngcontent-%COMP%]{justify-content:center;gap:10px}"]}),e})();const $=[{path:"",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:1,vars:0,template:function(o,n){1&o&&t._UZ(0,"app-search-results")},dependencies:[L]}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild($),l.Bz]}),e})();var I=r(7392),g=r(183);let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.QW,I.Ps,g.m]}),e})();var j=r(294);let J=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,R,F,g.m,j.I]}),e})()}}]);